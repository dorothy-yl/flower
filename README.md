# ğŸŒ¸ èŠ±åº—ç®¡ç†ç³»ç»Ÿ - å›¾ç‰‡ä¸Šä¼ æœåŠ¡

è¿™æ˜¯ä¸€ä¸ªåŸºäºExpress.jsçš„å›¾ç‰‡ä¸Šä¼ æœåŠ¡ï¼Œæ”¯æŒå•å¼ å’Œå¤šå¼ å›¾ç‰‡ä¸Šä¼ ï¼Œè‡ªåŠ¨ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“¸ **å•å¼ å›¾ç‰‡ä¸Šä¼ ** - æ”¯æŒå•å¼ å›¾ç‰‡ä¸Šä¼ 
- ğŸ–¼ï¸ **å¤šå¼ å›¾ç‰‡ä¸Šä¼ ** - æ”¯æŒåŒæ—¶ä¸Šä¼ å¤šå¼ å›¾ç‰‡ï¼ˆæœ€å¤š10å¼ ï¼‰
- ğŸ—‚ï¸ **å›¾ç‰‡ç®¡ç†** - æŸ¥çœ‹å·²ä¸Šä¼ å›¾ç‰‡åˆ—è¡¨
- ğŸ—‘ï¸ **å›¾ç‰‡åˆ é™¤** - åˆ é™¤æŒ‡å®šçš„å›¾ç‰‡æ–‡ä»¶
- ğŸ”’ **å®‰å…¨é™åˆ¶** - æ–‡ä»¶ç±»å‹å’Œå¤§å°é™åˆ¶
- ğŸ“± **å“åº”å¼è®¾è®¡** - ç¾è§‚çš„æµ‹è¯•ç•Œé¢

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. å¯åŠ¨æœåŠ¡å™¨

```bash
npm start
```

æˆ–è€…ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰ï¼š

```bash
npm run dev
```

æœåŠ¡å™¨å°†åœ¨ `http://localhost:3000` å¯åŠ¨

### 3. æµ‹è¯•å›¾ç‰‡ä¸Šä¼ 

æ‰“å¼€æµè§ˆå™¨è®¿é—® `upload-test.html` æ–‡ä»¶ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨APIæ¥å£è¿›è¡Œæµ‹è¯•ã€‚

## ğŸ“¡ APIæ¥å£

### å•å¼ å›¾ç‰‡ä¸Šä¼ 

**æ¥å£åœ°å€ï¼š** `POST /api/upload/single`

**è¯·æ±‚å‚æ•°ï¼š**
- `image`: å›¾ç‰‡æ–‡ä»¶ï¼ˆmultipart/form-dataï¼‰

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
    "code": 200,
    "message": "å›¾ç‰‡ä¸Šä¼ æˆåŠŸ",
    "data": {
        "filename": "1703123456789-123456789.jpg",
        "originalname": "example.jpg",
        "size": 1024000,
        "mimetype": "image/jpeg",
        "url": "http://localhost:3000/assets/images/1703123456789-123456789.jpg"
    }
}
```

### å¾®ä¿¡å°ç¨‹åºå›¾ç‰‡ä¸Šä¼ 

**æ¥å£åœ°å€ï¼š** `POST /api/upload/wechat`

**è¯·æ±‚å‚æ•°ï¼š**
- `file`: å›¾ç‰‡æ–‡ä»¶ï¼ˆå¾®ä¿¡å°ç¨‹åºä½¿ç”¨ `name: 'file'`ï¼‰
- `type`: å›¾ç‰‡ç±»å‹ï¼ˆå¯é€‰ï¼‰

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
    "code": 200,
    "message": "å›¾ç‰‡ä¸Šä¼ æˆåŠŸ",
    "data": {
        "filename": "1703123456789-123456789.jpg",
        "originalname": "avatar.jpg",
        "size": 1024000,
        "mimetype": "image/jpeg",
        "url": "http://localhost:3000/assets/images/1703123456789-123456789.jpg"
    }
}
```

### å¤šå¼ å›¾ç‰‡ä¸Šä¼ 

**æ¥å£åœ°å€ï¼š** `POST /api/upload/multiple`

**è¯·æ±‚å‚æ•°ï¼š**
- `images`: å›¾ç‰‡æ–‡ä»¶æ•°ç»„ï¼ˆmultipart/form-dataï¼‰

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
    "code": 200,
    "message": "æˆåŠŸä¸Šä¼  3 å¼ å›¾ç‰‡",
    "data": [
        {
            "filename": "1703123456789-123456789.jpg",
            "originalname": "image1.jpg",
            "size": 1024000,
            "mimetype": "image/jpeg",
            "url": "http://localhost:3000/assets/images/1703123456789-123456789.jpg"
        }
    ]
}
```

### è·å–å›¾ç‰‡åˆ—è¡¨

**æ¥å£åœ°å€ï¼š** `GET /api/upload/list`

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
    "code": 200,
    "message": "è·å–å›¾ç‰‡åˆ—è¡¨æˆåŠŸ",
    "data": [
        {
            "filename": "1703123456789-123456789.jpg",
            "url": "http://localhost:3000/assets/images/1703123456789-123456789.jpg",
            "size": 1024000,
            "uploadTime": "2023-12-21T10:30:45.123Z"
        }
    ]
}
```

### åˆ é™¤å›¾ç‰‡

**æ¥å£åœ°å€ï¼š** `DELETE /api/upload/:filename`

**è·¯å¾„å‚æ•°ï¼š**
- `filename`: è¦åˆ é™¤çš„å›¾ç‰‡æ–‡ä»¶å

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
    "code": 200,
    "message": "å›¾ç‰‡åˆ é™¤æˆåŠŸ",
    "data": {
        "filename": "1703123456789-123456789.jpg"
    }
}
```

## âš™ï¸ é…ç½®è¯´æ˜

### æ–‡ä»¶ä¸Šä¼ é…ç½®

åœ¨ `config.js` ä¸­é…ç½®å›¾ç‰‡ç›¸å…³è®¾ç½®ï¼š

```javascript
// å›¾ç‰‡æœåŠ¡é…ç½®
images: {
    path: '/assets/images',        // è®¿é—®è·¯å¾„
    directory: './assets/images'   // å­˜å‚¨ç›®å½•
}
```

### ä¸Šä¼ é™åˆ¶

- **æ–‡ä»¶ç±»å‹**ï¼šåªå…è®¸ jpeg, jpg, png, gif, webp æ ¼å¼
- **æ–‡ä»¶å¤§å°**ï¼šå•ä¸ªæ–‡ä»¶æœ€å¤§ 5MB
- **æ–‡ä»¶æ•°é‡**ï¼šå¤šå¼ ä¸Šä¼ æœ€å¤š 10 ä¸ªæ–‡ä»¶

### æ–‡ä»¶å‘½åè§„åˆ™

ä¸Šä¼ çš„æ–‡ä»¶ä¼šè‡ªåŠ¨é‡å‘½åï¼Œæ ¼å¼ä¸ºï¼š`æ—¶é—´æˆ³-éšæœºæ•°.æ‰©å±•å`

ä¾‹å¦‚ï¼š`1703123456789-123456789.jpg`

## ğŸ¨ æµ‹è¯•ç•Œé¢

é¡¹ç›®åŒ…å«ä¸€ä¸ªç¾è§‚çš„æµ‹è¯•é¡µé¢ `upload-test.html`ï¼Œæä¾›ï¼š

- æ‹–æ‹½å¼ä¸Šä¼ ç•Œé¢
- å®æ—¶è¿›åº¦æ˜¾ç¤º
- å›¾ç‰‡é¢„è§ˆåŠŸèƒ½
- å›¾ç‰‡ç®¡ç†åŠŸèƒ½
- å“åº”å¼è®¾è®¡

## ğŸ“ é¡¹ç›®ç»“æ„

```
flower/
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ images/          # å›¾ç‰‡å­˜å‚¨ç›®å½•
â”œâ”€â”€ config.js            # é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json         # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ server.js            # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”œâ”€â”€ upload-test.html     # æµ‹è¯•é¡µé¢
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜
```

## ğŸ”§ æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**: Express.js
- **æ–‡ä»¶ä¸Šä¼ **: Multer
- **æ–‡ä»¶ç³»ç»Ÿ**: Node.js fs æ¨¡å—
- **å‰ç«¯ç•Œé¢**: HTML5 + CSS3 + JavaScript

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. ç¡®ä¿ `assets/images` ç›®å½•æœ‰å†™å…¥æƒé™
2. ä¸Šä¼ çš„å›¾ç‰‡ä¼šä¿å­˜åœ¨æœåŠ¡å™¨æœ¬åœ°ï¼Œæ³¨æ„ç£ç›˜ç©ºé—´
3. ç”Ÿäº§ç¯å¢ƒå»ºè®®æ·»åŠ ç”¨æˆ·è®¤è¯å’Œæƒé™æ§åˆ¶
4. å¯ä»¥è€ƒè™‘æ·»åŠ å›¾ç‰‡å‹ç¼©å’Œæ ¼å¼è½¬æ¢åŠŸèƒ½

## ğŸ“ æ›´æ–°æ—¥å¿—

- **v1.0.0** - åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒåŸºæœ¬çš„å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
- æ”¯æŒå•å¼ å’Œå¤šå¼ å›¾ç‰‡ä¸Šä¼ 
- æ·»åŠ å›¾ç‰‡ç®¡ç†æ¥å£
- åŒ…å«ç¾è§‚çš„æµ‹è¯•ç•Œé¢

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ï¿½ï¿½ è®¸å¯è¯

MIT License 